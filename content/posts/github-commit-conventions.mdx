---
title: Github - Branch & Commit 的慣例規範
description: 關於 Github 中 Branch 以及 Commit 的慣例規範
date: 2024-08-19
tags: ['github', 'convention', 'branch', 'commit']
draft: false
---

## Branch

在命名 `分支 (Branch)` 時，建議名稱僅包含一層 `/` 分隔結構。  
這樣做除了可以保持分支命名的清晰性合一致性，也能避免混淆或在 `CI/CD` 過程中產生非預期的錯誤。

```bash
✅ fix/some-bugs
❌ fix/some-bugs/feat/new-function
```

另外也可以在分支名稱中包含相關的 `Issue編號`，有助於日後追蹤。

```bash
✅ feat/123-user-login
✅ fix/456-button-alignment
```

## Commit

Commit Message 應遵循 Convention Commits 規範。

| Type     | Description                                           |
|----------|-------------------------------------------------------|
| feat     | 新增功能 (feature)                                    |
| fix      | 修復 Bug                                              |
| chore    | 日常任務 (不影響原始碼或測試檔案的變更)               |
| refactor | 程式碼重構 (既不修復錯誤也不增加功能)                 |
| docs     | 文件相關更新 (Documentation)                          |
| style    | 格式調整 (不影響程式碼意義的變動，例如：空格、縮排)      |
| test     | 新增或修改測試                                        |
| perf     | 提升效能的程式碼變更 (Performance improvement)        |
| ci       | CI/CD 相關設定或腳本變更                              |
| build    | 影響建構系統或外部依賴的變更 (例如： Gulp、Webpack、NPM) |
| revert   | 還原先前的 Commit                                     |

### Commit Message 結構 (更完整的 Convention Commits)

- Commit Message 結構

    ```Plaintext
    <type>(<scope>): <subject>
    <BLANK LINE>
    <body>
    <BLANK LINE>
    <footer>
    ```

- Scope (範圍)：選擇性的在 `type` 後面加上括號標示這次 Commit 影響的範圍。
  - feat(api): add user registration endpoint
  - fix(ui): correct button oligment on login page
  - docs(readme): update installation instructions
- Subject (主旨)
  - 簡潔明瞭，不超過 `50 (或72)` 個字元
  - 使用祈使句、現在式 (e.g. `fix` 而不是 `fixed` 或 `fixes`)
  - 開頭不大寫，結尾不加句號
- Body (內文) (可選)
  - 與主旨之間空一行
  - 詳細說明變更的原因和內容
  - 每行不超過 `72` 個字元
- Footer (註腳) (可選)
  - 與內文之間空一行
  - 常用於紀錄 Breaking Change (重大變更) 或 關聯 Issue
  - `BREAKING CHANGE: <description>`
  - `Cloases #123` (會自動關閉 Issue)
  - `Refs #456` (僅關聯 Issue)
- 範例 Commit Message

    ```bash
    feat(auth): implement JWT authentication

    Introduce JSON Web Tokens for user authentication.
    This replaces the previous session-based mechanism.

    - Added jwt library.
    - Created middleware for token verification.
    - Updated login endpoint to issue tokens.

    Closes #789
    BREAKING CHANGE: Authentication method changed; clients need to handle JWTs.
    ```
