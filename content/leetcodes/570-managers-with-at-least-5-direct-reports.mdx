---
title: Managers with at Least 5 Direct Reports
description: Medium - [SQL 50] 570. Managers with at Least 5 Direct Reports
date: 2023-10-31
tags: []
leetcodeID: 570
difficulty: Medium
draft: false
---

## LeetCode 練習 - 570. Managers with at Least 5 Direct Reports
> MySQL  
> SQL 50 天系列

## 題目分析

Table: **Activity**
> | Column Name | Type    |
> | ----------- | ------- |
> | id          | int     |
> | name        | varchar |
> | department  | varchar |
> | managerId   | int     |
> 
> **id** 是此表的主鍵（具有唯一值的欄位）。  
> 此表的每一行指示員工的姓名、他們的部門以及他們的經理的 **id。**  
> 如果 **managerId** 為 **null**，則表示該員工沒有經理。  
> 沒有員工會是自己的經理。

寫一個解決方案來查找至少有五名直接下屬的經理。

以任何順序返回結果表。

結果格式如下例所示。

Example 1:  
> Input:  
> **Employee table**
> | id  | name  | department | managerId |
> | --- | ----- | ---------- |---------- |
> | 101 | John  | A          | null      |
> | 102 | Dan   | A          | 101       |
> | 103 | James | A          | 101       |
> | 104 | Amy   | A          | 101       |
> | 105 | Anne  | A          | 101       |
> | 106 | Ron   | B          | 101       |
> 
> Output:
> | name |
> | ---- |
> | John |

## 最終結果

```js:managers-with-at-least-5-direct-reports.sql
# Write your MySQL query statement below
SELECT
    B.name
FROM Employee AS A
INNER JOIN Employee AS B ON A.managerId = B.id
GROUP BY A.managerId
HAVING COUNT(A.id) >= 5;
```

## 解題思路